---
device_name: "MX68-1"
configurations:
  vlans:
    - id: 10
      name: "Meraki"
      subnet: "10.250.0.0/24"
      applianceIp: "10.250.0.1"
      groupPolicyId: ""
      templateVlanType: "same"
      cidr: "10.250.0.0/24"
      mask: 24
      ipv6:
        enabled: false
      fixedIpAssignments: {}
      reservedIpRanges: []
      dnsNameservers: "google_dns"
      dhcpHandling: "Run a DHCP server"
      dhcpLeaseTime: "1 day"
      dhcpBootOptionsEnabled: False
      #dhcpBootNextServer: ""
      #dhcpBootFilename: ""
      dhcpOptions: []
      
    - id: 110
      name: "Printers"
      subnet: "10.250.1.0/24"
      applianceIp: "10.250.1.1"
      groupPolicyId: ""
      templateVlanType: "same"
      cidr: "10.250.1.0/24"
      mask: 24
      ipv6:
        enabled: false
      fixedIpAssignments: {}
      reservedIpRanges: []
      dnsNameservers: "google_dns"
      dhcpHandling: "Run a DHCP server"
      dhcpLeaseTime: "1 day"
      dhcpBootOptionsEnabled: False
      #dhcpBootNextServer: ""
      #dhcpBootFilename: ""
      dhcpOptions: []
    
    
    - id: 120
      name: "Servers"
      subnet: "10.250.2.0/24"
      applianceIp: "10.250.2.1"
      groupPolicyId: ""
      templateVlanType: "same"
      cidr: "10.250.2.0/24"
      mask: 24
      ipv6:
        enabled: false
      fixedIpAssignments: {}
      reservedIpRanges: []
      dnsNameservers: "google_dns"
      dhcpHandling: "Run a DHCP server"
      dhcpLeaseTime: "1 day"
      dhcpBootOptionsEnabled: False
      #dhcpBootNextServer: ""
      #dhcpBootFilename: ""
      dhcpOptions: []
    
    - id: 130
      name: "APs"
      subnet: "10.250.3.0/24"
      applianceIp: "10.250.3.1"
      groupPolicyId: ""
      templateVlanType: "same"
      cidr: "10.250.3.0/24"
      mask: 24
      ipv6:
        enabled: false
      fixedIpAssignments: {}
      reservedIpRanges: []
      dnsNameservers: "google_dns"
      dhcpHandling: "Run a DHCP server"
      dhcpLeaseTime: "1 day"
      dhcpBootOptionsEnabled: False
      #dhcpBootNextServer: ""
      #dhcpBootFilename: ""
      dhcpOptions: []
    
    - id: 160
      name: "Users"
      subnet: "10.250.4.0/24"
      applianceIp: "10.250.4.1"
      groupPolicyId: ""
      templateVlanType: "same"
      cidr: "10.250.4.0/24"
      mask: 24
      ipv6:
        enabled: false
      fixedIpAssignments: {}
      reservedIpRanges: []
      dnsNameservers: "google_dns"
      dhcpHandling: "Run a DHCP server"
      dhcpLeaseTime: "1 day"
      dhcpBootOptionsEnabled: False
      #dhcpBootNextServer: ""
      #dhcpBootFilename: ""
      dhcpOptions: []
    
    - id: 200
      name: "External"
      subnet: "10.250.5.0/24"
      applianceIp: "10.250.5.1"
      groupPolicyId: ""
      templateVlanType: "same"
      cidr: "10.250.5.0/24"
      mask: 24
      ipv6:
        enabled: false
      fixedIpAssignments: {}
      reservedIpRanges: []
      dnsNameservers: "google_dns"
      dhcpHandling: "Run a DHCP server"
      dhcpLeaseTime: "1 day"
      dhcpBootOptionsEnabled: False
      #dhcpBootNextServer: ""
      #dhcpBootFilename: ""
      dhcpOptions: []
    
    - id: 600
      name: "Guest"
      subnet: "10.250.6.0/24"
      applianceIp: "10.250.6.1"
      groupPolicyId: ""
      templateVlanType: "same"
      cidr: "10.250.6.0/24"
      mask: 24
      ipv6:
        enabled: false
      fixedIpAssignments: {}
      reservedIpRanges: []
      dnsNameservers: "google_dns"
      dhcpHandling: "Run a DHCP server"
      dhcpLeaseTime: "1 day"
      dhcpBootOptionsEnabled: False
      #dhcpBootNextServer: ""
      #dhcpBootFilename: ""
      dhcpOptions: []

  appliance_ports:
    - portId: 3
      enabled: true
      type: "trunk"
      dropUntaggedTraffic: false
      vlan: 10
      allowedVlans: "all"
      
    - portId: 4
      enabled: true
      type: "trunk"
      dropUntaggedTraffic: false
      vlan: 10
      allowedVlans: "all"
      

  firewallRules:
    - comment: "Guest"
      policy: "deny"
      protocol: "tcp"
      srcPort: "Any"
      srcCidr: "Any"
      destPort: "Any"
      destCidr: "10.0.0.0/8,172.16.0.0/12,192.168.0.0/16"
      syslogEnabled: false
    - comment: "Meraki_Cloud"
      policy: "allow"
      protocol: "udp"
      srcPort: "Any"
      srcCidr: "Any"
      destPort: "7351"
      destCidr: "64.62.142.12/32,209.206.48.0/20,216.157.128.0/20,158.115.128.0/19"
      syslogEnabled: false
    - comment: "AMP_Integration"
      policy: "allow"
      protocol: "tcp"
      srcPort: "Any"
      srcCidr: "Any"
      destPort: "443"
      destCidr: "cloud-meraki-asn.amp.cisco.com,cloud-meraki-est.amp.cisco.com"
      syslogEnabled: false
    - comment: "Meraki_default"
      policy: "allow"
      protocol: "tcp"
      srcPort: "Any"
      srcCidr: "Any"
      destPort: "Any"
      destCidr: "13.54.51.60/32,52.57.34.238/32,52.59.68.120/32,198.27.154.14/32,198.27.154.12/32,35.162.65.76/32,35.161.241.24/32,35.162.58.56/32,50.18.100.0/32,13.52.29.190/32,3.210.175.34/32,209.206.48.0/20,216.157.128.0/20,158.115.128.0/19,52.59.68.120/32"
      syslogEnabled: false
    - comment: "Meraki_MR"
      policy: "allow"
      protocol: "tcp"
      srcPort: "Any"
      srcCidr: "Any"
      destPort: "80,443,7734,7752"
      destCidr: "158.115.128.0/19,209.206.48.0/20,216.157.128.0/20"
      syslogEnabled: false
    - comment: "NTP"
      policy: "allow"
      protocol: "udp"
      srcPort: "Any"
      srcCidr: "Any"
      destPort: "123"
      destCidr: "Any"
      syslogEnabled: false
    - comment: "Umbrella"
      policy: "allow"
      protocol: "udp"
      srcPort: "Any"
      srcCidr: "Any"
      destPort: "53,443"
      destCidr: "208.67.222.222/32,208.67.220.220/32,208.67.222.220/32,208.67.220.222/32"
      syslogEnabled: false
    - comment: "MX_ICMP"
      policy: "allow"
      protocol: "icmp"
      srcPort: "Any"
      srcCidr: "Any"
      destPort: "Any"
      destCidr: "209.206.48.0/20,216.157.128.0/20,158.115.128.0/19"
      syslogEnabled: false
    - comment: "TeamViewer"
      policy: "allow"
      protocol: "tcp"
      srcPort: "Any"
      srcCidr: "Any"
      destPort: "5938"
      destCidr: "Any"
      syslogEnabled: false
    - comment: "ESET"
      policy: "allow"
      protocol: "tcp"
      srcPort: "Any"
      srcCidr: "Any"
      destPort: "443"
      destCidr: "eba.eset.com,msp.eset.com,identity.eset.com,protect.eset.com,us02.protect.eset.com,eu02.protect.eset.com,*.a.ecaserver.eset.com,edf.eset.com,redirector.eset.systems,us.mdm.eset.com,eu.mdm.eset.com,checkin.eu.eset.com,checkin.us.eset.com,mdmcomm.eu.eset.com,mdmcomm.us.eset.com,mdm.eset.com"
      syslogEnabled: false
    - comment: "ESET_WAKEUP_CALLS"
      policy: "allow"
      protocol: "tcp"
      srcPort: "Any"
      srcCidr: "Any"
      destPort: "8883"
      destCidr: "epns.eset.com"
      syslogEnabled: false
    - comment: "ESET_REPOSITORY"
      policy: "allow"
      protocol: "tcp"
      srcPort: "Any"
      srcCidr: "Any"
      destPort: "80,443"
      destCidr: "repository.eset.com"
      syslogEnabled: false
   
  threat_protection:
    - mode: "prevention"
      idsRulesets: "balanced"    
    
      site_to_site_vpn:
    # VPN-specific settings here
  routing:
    # Routing-specific settings here
  client_vpn:
    # Client VPN-specific settings here
  active_directory:
    # Active Directory-specific settings here
  sd_wan_traffic_shaping:
    # SD-WAN & Traffic Shaping-specific settings here
  
    # Threat Protection-specific settings here
  content_filtering:
    # Content Filtering-specific settings here
  access_control:
    # Access Control-specific settings here
  splash_page:
    # Splash Page-specific settings here
  wireless_contractor:
    # Wireless Contractor-specific settings here
